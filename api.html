<!DOCTYPE html>
<head>
	<title>fit test</title>
	<meta charset="utf-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />

	<script src="scripts/lib/f.js"></script>
	<script src="scripts/lib/pf.js"></script>
	<script src="scripts/lib/dom.js"></script>
	<script src="scripts/lib/kbd.js"></script>
	<script src="scripts/lib/perf.js"></script>
	<script src="scripts/lib/tween.js"></script>
	<script src="scripts/lib/three.js"></script>
	<script src="scripts/lib/dat.gui.min.js"></script>
	<script src="scripts/lib/inflate.min.js"></script>

	<script src="scripts/base/EventEmitter.js"></script>
	<script src="scripts/base/EventHandler.js"></script>
	<script src="scripts/base/Observable.js"></script>
	<script src="scripts/base/Timer.js"></script>
	<script src="scripts/base/Defer.js"></script>
	<script src="scripts/base/Gate.js"></script>
	<script src="scripts/base/Loader.js"></script>
	<script src="scripts/base/Loader.obj.js"></script>
	<script src="scripts/base/Drag.js"></script>
	<script src="scripts/base/Momentum.js"></script>
	<script src="scripts/base/Block.js"></script>
	<script src="scripts/base/Atlas.js"></script>
	<script src="scripts/base/Locale.js"></script>

	<script src="scripts/THREE.extend.js"></script>
	<script src="scripts/THREE.OrbitControls.js"></script>
	<script src="scripts/THREE.FirstPersonControls.js"></script>
	<script src="scripts/TransformControls.js"></script>
	<script src="scripts/FBXLoader.js"></script>
	<script src="scripts/ColladaLoader.js"></script>

	<script src="scripts/shaders/CopyShader.js"></script>
	<script src="scripts/shaders/FillShader.js"></script>
	<script src="scripts/shaders/OverlayShader.js"></script>
	<script src="scripts/shaders/HorizontalBlurShader.js"></script>
	<script src="scripts/shaders/VerticalBlurShader.js"></script>
	<script src="scripts/shaders/FXAAShader.js"></script>

	<script src="scripts/FileImport.js"></script>
	<script src="scripts/TileView.js"></script>
	<script src="scripts/PointProjector.js"></script>
	<script src="scripts/Imagery.js"></script>
	<script src="scripts/Sampler.js"></script>
	<script src="scripts/View3.js"></script>
	<script src="scripts/TNode.js"></script>
	<script src="scripts/TConnection.js"></script>

	<script src="scripts/UI/UI.js"></script>
	<script src="scripts/UI/Submenu.js"></script>
	<script src="scripts/UI/MarkerSystem.js"></script>

	<script src="scripts/Plumber.js"></script>


	<link rel="stylesheet" href="styles/main.css">
	<link rel="stylesheet" href="styles/ui.css">
	<link rel="stylesheet" href="styles/TileView.css">
	<link rel="stylesheet" href="styles/MarkerSystem.css">

	<style>
		.view {
			position: relative;
		}
		.item1 {
			display: inline-block;
			width: 640px;
			height: 480px;
			margin: 24px;
		}
		.item2 {
			display: inline-block;
			width: 320px;
			height: 240px;
			margin: 24px;
		}
		.item3 {
			display: inline-block;
			vertical-align: middle;
			width: 768px;
			height: 480px;
			margin: 24px;
		}
		.item4 {
			display: inline-block;
			vertical-align: middle;
			width: 128px;
			height: 480px;
			margin: 24px;
			background-color: #eee;
			border: 1px solid #ccc;
		}
	</style>
</head>

<body>
	<div class="view item1"></div>
	<div class="view item2"></div>
	<div class="view item3"></div>
	<div class="view item4"></div>
</body>

<script>
	var p1 = new Plumber({
		eroot: document.querySelector('.item1'),
		sampleList: null,
		mode: 'viewer'
	})

	p1.addElement('test', 'iso.json').then(function() {
		p1.view2.orbitTo(null, 0, 20)
	})






	var p2 = new Plumber({
		eroot: document.querySelector('.item2'),
		clearButton: false,
		mode: 'viewer'
	})

	p2.ready.then(function() {
		p2.displaySample('10EFG6K')
	})



	var p3 = new Plumber({
		eroot: document.querySelector('.item3'),
		mode: 'constructor'
	})

	var messages = []
	function log(text) {
		messages.push(text)
		document.querySelector('.item4').innerHTML = messages.slice(-20).join('<br/>')
	}
	p3.events.on('onAddElement', function(e) {
		log(e.status)
	})
	p3.events.on('onRemoveElement', function(e) {
		log('removed '+ e.removeCount)
	})




</script>
